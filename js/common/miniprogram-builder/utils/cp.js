!function(require, directRequire){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.spawnSync=void 0;const tslib_1=require("tslib"),child_process=tslib_1.__importStar(require("child_process")),env_1=require("../utils/env");function spawnSync(e,s,n,o){return new Promise((r,t)=>{o.progress(`Run command: ${e} ${s.join(" ")}...`);const c=child_process.spawn(e,s,Object.assign({env:(0,env_1.getProcessEnv)()},n));c.stdout.on("data",e=>{o.progress(e.toString())}),c.stderr.on("data",e=>{o.progress(e.toString())}),c.on("close",n=>{0!==n?(o.message("fail",`Failed to exec command: ${e} ${s.join(" ")}`),t(`Failed to exec command: ${e} ${s.join(" ")}`)):(o.message("done",`Successful to exec command: ${e} ${s.join(" ")}`),r({}))})})}exports.spawnSync=spawnSync;
}(require("licia/lazyImport")(require), require)
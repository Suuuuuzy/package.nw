import{SourceFrameImpl}from"./SourceFrame.js";import*as Common from"../common/common.js";import{contain,some}from"../third_party/licia.js";const wxApplibToHide=["WAService.js","WAServiceMainContext.js","WASubContext.js","WAGame.js"];if(wxMain.isFeatureEnabled("hideWxapplib")){const e=SourceFrameImpl.prototype.setContent;SourceFrameImpl.prototype.setContent=function(t,o){const i=Common.Settings.Settings.instance().moduleSetting("hideWxapplib").get();if(this._uiSourceCode&&i){const e=this._uiSourceCode.name();if(some(wxApplibToHide,t=>contain(e,t))){let e=!1;const o=t.split("\n");if(o.length<50)for(let t=0,i=o.length;t<i;t++)if(o[t].length>1e5){e=!0;break}e&&(t="// Hidden by wechat devtools")}}return e.call(this,t,o)}}